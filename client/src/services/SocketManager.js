// TODO manage socket in this